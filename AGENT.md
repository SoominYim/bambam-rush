# AGENT.md

## 목적
이 문서는 이 저장소에서 작업하는 에이전트(Codex 포함)가 일관된 품질로 빠르게 개발할 수 있도록 기준을 정의한다.
현재 프로젝트는 베타 단계이므로, 초기 설계를 견고하게 만들어 이후 수정 비용을 최소화한다.

## 프로젝트 정체성
- 장르: `Snake`류 + `뱀서(서바이버라이크)`류 결합
- 핵심 루프: 이동/회피/성장 + 다수 적 처리 + 빌드 선택의 재미
- 설계 우선순위: 재미 > 가독성 > 확장성 > 미세 최적화

## 커뮤니케이션 규칙
- 모든 설명, 주석, 보고는 한국어를 기본으로 작성한다.
- 변경 보고 시 아래 4가지를 짧게 포함한다.
  - 무엇을 바꿨는가
  - 왜 바꿨는가
  - 어떤 영향이 있는가
  - 어떻게 검증했는가

## 베타 단계 개발 원칙
- 베타 단계에서는 "빨리 추가"보다 "나중에 쉽게 고칠 수 있는 구조"를 우선한다.
- 신규 기능은 반드시 분리 가능한 단위(설정/로직/데이터)로 작성한다.
- 하드코딩을 피하고, 가능한 한 설정 기반으로 설계한다.
- 타입 안정성을 유지하고, 암묵적 동작보다 명시적 동작을 선택한다.

## 무기 설계 원칙 (매우 중요)
무기를 만들 때는 아래 항목을 반드시 모두 검토한다.

1. 밸런스
- DPS만 보지 말고, `사거리/범위/쿨다운/투사체 속도/관통/군중 제어/리스크`를 함께 평가한다.
- 초반(1~3분), 중반(4~8분), 후반(9분+)의 체감 성능을 분리해 확인한다.
- "강한 무기"가 아니라 "선택할 이유가 있는 무기"를 목표로 한다.

2. 컨셉 일관성
- 무기의 테마, 사용감, 시각/수치 효과가 같은 방향을 보도록 설계한다.
- 컨셉과 맞지 않는 성능(예: 묵직한 무기의 과도한 연사)은 지양한다.
- 무기 설명 문구와 실제 플레이 체감이 다르지 않게 만든다.

3. 장르 결합 적합성
- Snake류 요소: 이동 동선, 몸집/꼬리/위치 리스크와 상호작용하는가?
- 뱀서류 요소: 다수 적 처리, 성장 곡선, 빌드 조합 재미를 제공하는가?
- 한쪽 장르만 강화하고 다른 쪽을 망가뜨리는 설계는 피한다.

4. 확장성
- 신규 무기 추가 시 기존 코어 로직 수정이 최소화되도록 인터페이스를 유지한다.
- 무기 수치와 동작 파라미터를 가능한 데이터화한다.
- 향후 진화(업그레이드/시너지/변형)를 고려해 필드를 미리 설계한다.

## 구현 체크리스트
- 새 무기 추가 시 최소 체크
  - 무기 ID/타입/레지스트리 등록
  - 기본 스탯(피해, 쿨다운, 범위 등) 정의
  - 레벨 스케일링 규칙 정의
  - 충돌/이펙트/사운드 연결 확인
  - 툴팁/설명 텍스트 동기화
- 가능하면 "무기 하나 = 설정 한곳 + 로직 한곳" 구조를 유지한다.

## 자동화 친화 규칙
에이전트를 무엇이든 자동화할 수 있도록 아래를 지킨다.

1. 반복 작업 표준화
- 반복되는 작업(등록, 매핑, 검증)은 스크립트화 가능한 형태로 유지한다.
- 파일/키 네이밍 규칙을 고정해 자동 생성이 가능하게 만든다.

2. 단일 진실 공급원(SSOT)
- 무기 메타데이터는 한 곳에서 정의하고, 다른 곳에서 재사용한다.
- 동일 의미 값을 여러 파일에 중복 선언하지 않는다.

3. 예측 가능한 구조
- 디렉터리/파일 역할을 명확히 분리한다. (config, system, data, ui 등)
- 사이드이펙트가 큰 초기화 로직은 한곳에 모아 추적 가능하게 만든다.

4. 검증 자동화 우선
- 가능한 검증(타입체크, 기본 밸런스 스모크 테스트)은 명령어로 재실행 가능해야 한다.
- 수동 검증만 필요한 경우에도 절차를 문서로 남긴다.

## 코드 품질 규칙
- 기존 스타일을 우선 존중하고, 불필요한 대규모 리팩터링은 피한다.
- 요청 범위를 벗어난 변경은 하지 않는다.
- 매직 넘버는 의미 있는 상수/설정값으로 분리한다.
- 복잡 로직에는 "왜 이렇게 했는지"를 짧게 주석으로 남긴다.

## 금지 사항
- 사용자 요청 없는 파괴적 변경(대규모 삭제/리셋) 금지
- 테스트/검증 없이 핵심 밸런스 로직 변경 금지
- 장르 정체성을 훼손하는 임시 땜질식 구현 지양

## 작업 완료 보고 템플릿
- 변경 파일: (경로 나열)
- 핵심 변경: (한 줄 요약)
- 밸런스/컨셉 검토: (체크 결과)
- 검증 결과: (실행한 항목과 결과)
- 남은 리스크: (있으면 명시)
